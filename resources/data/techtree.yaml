achievements:
- id: archvmt_battle
  description: Engage another fleet in battle
- id: archvmt_conveniat
  description: Collect 3 ships in one place
- id: archvmt_droptank
  description: Use a droptank

techtree:
- name: Start
  id: tech_start
  start_condition: unlocked
  prerequisites: []
  unlocks:
  - shpmod_water_extractor
  - shpmod_sail_medium
  icon_index: [2, 28]

- name: Metallurgy
  id: tech_metallurgy
  description: >
    All production is based on the primary materials available to us:
    ALuminium and Steel
  start_condition: available
  prerequisites: [tech_start]
  condition:
    type: stat_achieved
    stat: thermal_control
    comp: geq
    value: 1
  unlocks:
  - shpmod_ore_extractor
  - shpmod_rock_extractor_primitive
  - shpmod_aluminium_smelter
  - shpmod_steel_smelter
  icon_index: [1, 19]

- name: Industrial Modules
  id: tech_industry
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_metallurgy]
  condition:
    type: production_counter
    rsc: steel
    comp: geq
    value: 40
  unlocks:
  - shpmod_heatpump
  - shpmod_manufacture_offices
  - shpmod_large_storage
  icon_index: [2, 19]

- name: Shipbuilding
  id: tech_ships
  description: >
    Without ships, no logistics. 
    Without logistics, no industry. 
    Without industry, no survival. Not here
  start_condition: available
  prerequisites: [tech_metallurgy]
  condition:
    type: production_counter
    rsc: aluminium
    comp: geq
    value: 40
  unlocks:
  - shp_light_transport
  - shpmod_wetdock
  events:
  - spawn:
      name: Restored transport
      class_id: shp_light_transport
      allegiance: 0
      planet: Tethys
  icon_index: [3, 19]

- name: Construction at scale
  id: tech_heavy_industry
  description: >
    Heavier industry requires larger facilities. 
    These large facilities allow for efficiency at scale.
  start_condition: available
  prerequisites: [tech_industry]
  condition:
    type: stat_achieved
    stat: industrial_storage
    comp: geq
    value: 3
  unlocks:
  - shpmod_geothermal
  - shpmod_sail_large
  icon_index: [4, 19]

- name: System Engineering
  id: tech_advanced_construction
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_industry]
  condition:
    type: stat_achieved
    stat: industrial_admin
    comp: geq
    value: 2
  unlocks:
  - shpmod_cleanroom
  - shpmod_workshop
  icon_index: [5, 19]

- name: Hydrogen Management
  id: tech_cryo
  description: >
    As fuel or ingredient in industrial and chemical processes, hydrogen ...
  start_condition: available
  prerequisites: [tech_industry]
  condition:
    type: stat_achieved
    stat: cryogenics_facility
    comp: geq
    value: 1
  unlocks:
  - shpmod_electrolyser
  - shpmod_fuel_cell
  icon_index: [6, 19]

- name: Ship Specialization
  id: tech_equipment
  description: >
    Modules build for smaller ships allow modifying the function ...
    TBD
  start_condition: available
  prerequisites: [tech_ships]
  condition:
    type: produce_item
    item: shp_light_transport
    comp: geq
    value: 1
  unlocks:
  - shpmod_droptank_water
  - shpmod_sail_small
  - shpmod_gun
  milestone_unlocks:
  - combat
  icon_index: [7, 19]
  
- name: Surface shuttles
  id: tech_shuttles
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_ships]
  unlocks:
  - shpmod_shuttles
  - shpmod_large_shuttles
  icon_index: [8, 19]
  
- name: Large Shipbuilding Projects
  id: tech_advanced_ship
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_ships, tech_advanced_construction]
  condition:
    type: achievement
    id: archvmt_conveniat
  unlocks:
  - shp_bulk_transport
  icon_index: [9, 19]
  
- name: Mega Engineering
  id: tech_mega_engineering
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_heavy_industry]
  condition:
    type: production_counter
    rsc: steel
    comp: geq
    value: 200
  unlocks:
  - shp_spacestation
  - shpmod_launch_structure
  icon_index: [10, 19]

- name: Resource Extraction at Scale
  id: tech_large_extraction
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_heavy_industry, tech_shuttles]
  condition:
    type: any
    elements:
    - type: production_counter
      rsc: iron_ore
      comp: geq
      value: 100
    - type: production_counter
      rsc: aluminium_ore
      comp: geq
      value: 100
  unlocks:
  - shpmod_rock_extractor
  - shpmod_carbon_extractor
  icon_index: [11, 19]

- name: Chemical industry
  id: tech_chemical
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_advanced_construction, tech_cryo]
  condition:
    type: all
    elements:
    - type: visit
      planet: Titan
    - type: visit
      planet: Mimas
  unlocks:
  - shpmod_polymers
  - shpmod_carbon_splitter
  - shpmod_industrial_sail
  icon_index: [12, 19]

- name: Cryogenic tanks
  id: tech_droptank_hydrogen
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_cryo, tech_equipment]
  condition:
    type: all
    elements:
    - type: production_counter
      rsc: hydrogen  # Problem, as 'Low Saturn Orbit' always produces hydrogen
      comp: geq
      value: 20
    - type: achievement
      id: archvmt_droptank
  unlocks:
  - shpmod_droptank_hydrogen
  icon_index: [13, 19]
  
- name: Semiconductor Industry
  id: tech_hitech
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_chemical]
  condition:
    type: all
    elements:
    - type: production_counter
      rsc: polymers
      comp: geq
      value: 10
    - type: stat_achieved
      stat: industrial_manufacturing
      comp: geq
      value: 2
  unlocks:
  - shpmod_electronics
  icon_index: [14, 19]

- name: Ship Armor
  id: tech_armor
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_equipment]
  condition:
    type: achievement
    id: archvmt_battle
  unlocks:
  - shpmod_light_armor
  - shpmod_armor
  icon_index: [15, 19]
  
- name: Dedicated Naval Weaponry
  id: tech_naval_weaponry
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_hitech, tech_equipment]
  condition:
    type: all
    elements:
    - type: achievement
      id: archvmt_battle
    - type: stat_achieved
      stat: workshop
      comp: geq
      value: 1
  unlocks:
  - shpmod_railgun
  - shpmod_missiles
  - shpmod_pdc
  - shpmod_acs
  icon_index: [0, 20]
  
- name: Research and Development
  id: tech_rnd
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_hitech]
  condition:
    type: achievement
    id: TBD
  unlocks:
  - shpmod_barracks
  - shpmod_windtunnel
  - shpmod_ballistics_lab
  - shpmod_biolab
  - shpmod_enrichment_facility
  - shpmod_precision_workshop
  icon_index: [1, 20]
  
- name: Aeronautics
  id: tech_aeronautics
  start_condition: available
  prerequisites: [tech_rnd]
  condition:
    type: produce_item
    item: shpmod_windtunnel
    comp: geq
    value: 1
  unlocks:
  - shpmod_heatshield
  - shpmod_aircraft
  - shpmod_atmos_shuttles
  icon_index: [2, 20]
  
- name: Expeditionary Military
  id: tech_expeditionary_military
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_rnd]
  condition:
    type: stat_achieved
    stat: military_training
    comp: geq
    value: 2
  unlocks:
  - shpmod_exp_brigade
  - shpmod_invasion_equipment
  - shpmod_armory
  icon_index: [3, 20]
  
- name: Bio Industry
  id: tech_bio
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_rnd]
  condition:
    type: stat_achieved
    stat: bio_manufacturing
    comp: geq
    value: 2
  unlocks:
  - shpmod_habitat
  icon_index: [4, 20]
  
- name: Nuclear Power
  id: tech_nuclear
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_rnd]
  condition:
    type: stat_achieved
    stat: nuclear_enrichment
    comp: geq
    value: 1
  unlocks:
  - shpmod_reactor
  - shpmod_reactor_industrial
  icon_index: [5, 20]

- name: Nuclear Rocketengines
  id: tech_ntr
  description: >
    TBD
  start_condition: available
  prerequisites: [tech_nuclear, tech_advanced_ship]
  condition:
    type: produce_item
    item: shpmod_reactor
    comp: geq
    value: 2
  unlocks:
  - shp_express
  icon_index: [6, 20]
